<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
	<h:head>
		<title>Seguimiento de gestión comercial | SEA</title>
		<ui:composition template="/templates/resources.xhtml" />
	</h:head>
	<h:body>
        <div class="mdl-layout mdl-js-layout">
			<ui:composition template="/templates/header.xhtml" />
			<main class="mdl-layout__content">

				<div class="mdl-cell mdl-cell--12-col">
					<p:dataTable var="op" emptyMessage="Usted no tiene órdenes de producción pendientes por generar" value="#{indexController.listaOpPorGenerarCorregir}" styleClass="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
						<p:column headerText="No. Cotización" styleClass="mdl-data-table__cell--non-numeric">
							<h:outputText value="#{op.numeroCotizacion}"/>
						</p:column>
						<p:column headerText="Cliente" styleClass="mdl-data-table__cell--non-numeric">
							<h:outputText value="#{op.cliente}"/>
						</p:column>
						<p:column headerText="Contacto" styleClass="mdl-data-table__cell--non-numeric">
							<h:outputText value="#{op.contacto}"/>
						</p:column>
						<p:column headerText="Teléfono contacto" styleClass="mdl-data-table__cell--non-numeric">
							<h:outputText value="#{op.telefono_contacto}"/>
						</p:column>
						<p:column headerText="Estado" styleClass="mdl-data-table__cell--non-numeric">
							<h:outputText value="#{op.estado}"/>
						</p:column>
						<p:column>
							<h:panelGroup layout="block">
								<h:link outcome="generarOrden.xhtml">
									<f:param name="numeroCotizacion" value="#{op.numeroCotizacion}"/>
									<h:commandButton actionListener="#{cotizacionController.leerId(op.numeroCotizacion)}" styleClass="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent toggleSubForm" value="ACTUALIZAR"/>
								</h:link>
							</h:panelGroup>
						</p:column>
					</p:dataTable>
				</div>
			</main>
		</div>
	</h:body>
</html>